#!/bin/bash

echo "Running sudo apt update..."
sudo apt update

echo -e "\nRunning sudo apt upgrade..."
sudo apt upgrade

# install wget if you don't have it
echo -e "\nInstalling wget..."
sudo apt install wget

# define the download URL for burpsuite pro
URL="https://portswigger-cdn.net/burp/releases/download?product=pro&version=2023.6.2&type=Linux"

echo -e "\nCreating directory to store the download..."
burpsuite_directory="/home/Kali/tools/burpsuite-pro"

if [ ! -d "$burpsuite_directory" ]; then
    sudo mkdir -p "$burpsuite_directory"
    sudo chmod 777 $burpsuite_directory
    echo "Directory $burpsuite_directory created successfully."
else
    echo "The directory $burpsuite_directory already exists."
fi

# output directory to store burpsuite .sh file
output_path="/home/Kali/tools/burpsuite-pro/burpsuite.sh"

echo -e "\nDownloading Burpsuite Professional..."

if [ ! -e "$output_path" ]; then
    # download the burpsuite.sh file
    wget -O $output_path $URL

    # make the burpsuite.sh script executable
    chmod +x $output_path

    # execute the burpsuite.sh script
    bash "$output_path"

    echo -e "\nBurpsuite Professional was successfully downloaded!"
else
    echo "The file $output_path already exists."
    echo "If you have not installed BurpSuite Professional, navigate to this directory and run the burpsuite.sh file."
fi
