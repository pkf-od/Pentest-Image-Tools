#!/bin/bash

# update package lists in local package database
echo 'Running sudo apt update...'
sudo apt update

# upgrade installed packages by checking for new updates in local package database
echo $'\nRunning sudo apt upgrade...'
sudo apt upgrade

# directory to download tools from GitHub
directory="/home/Kali/tools"

# Check if the directory exists
if [ ! -d "$directory" ]; then
    echo ""
    echo "Directory $directory does not exist. Creating..."
    sudo mkdir -p "$directory"
    sudo chmod 777 $directory
    echo "Directory $directory created successfully."
else
    echo ""
    echo "Directory $directory already exists."
    # if directory does exists, update its permissions
    sudo chmod 777 $directory
fi

# install responder
echo $'\nInstalling responder...'
sudo apt install responder

# download mitm6 from GitHub
echo $'\nDownloading mitm6 from GitHub...'
mitm6_directory="/home/Kali/tools/mitm6"
if [ ! -d "$mitm6_directory" ]; then
    git clone https://github.com/dirkjanm/mitm6.git $mitm6_directory
else
    echo "The directory $mitm6_directory already exists."
fi

# install impacket
echo $'\nInstalling impacket...'
sudo apt install python3-impacket

# install crackmapexec
echo $'\nInstalling crackmapexec...'
sudo apt install crackmapexec

# download goddi from GitHub
echo $'\nDownloading goddi from GitHub...'
goddi_directory="/home/Kali/tools/goddi"
if [ ! -d "$goddi_directory" ]; then
    git clone https://github.com/NetSPI/goddi.git $goddi_directory
else
    echo "The directory $goddi_directory already exists."
fi

# install VNC
echo $'\nInstalling VNC...'
sudo apt install xtightvncviewer

# download o365spray from GitHub
echo $'\nDownloading o365spray from GitHub...'
o365spray_directory="/home/Kali/tools/o365spray"
if [ ! -d "$o365spray_directory" ]; then
    git clone https://github.com/0xZDH/o365spray.git $o365spray_directory
else
    echo "The directory $o365spray_directory already exists."
fi

echo $'\nDownload complete!'
